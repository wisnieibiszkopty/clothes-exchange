{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../shared/services/product.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = [\"form\"];\nfunction AddComponent_option_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", category_r3.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", category_r3.name, \" \");\n  }\n}\nclass Category {\n  constructor(id, name) {\n    this.id = id;\n    this.name = name;\n  }\n}\nexport class AddComponent {\n  constructor(productService) {\n    this.productService = productService;\n    this.files = [];\n    // temporary\n    this.categories = [new Category(1, \"Shoes\"), new Category(2, \"Shirts\"), new Category(3, \"Pants\"), new Category(4, \"Jackets\"), new Category(5, \"Hoodies\")];\n  }\n  // for some reason after clicking request is send\n  onChangeFileInput(event) {\n    const file = event.target.files[0];\n    if (file) {\n      this.files.push(file);\n    }\n  }\n  onSubmit() {\n    console.log(this.productForm.form.value);\n    this.productService.addProduct(this.productForm.form.value, this.files);\n  }\n}\n_class = AddComponent;\n_class.ɵfac = function AddComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.ProductService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-add\"]],\n  viewQuery: function AddComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.productForm = _t.first);\n    }\n  },\n  decls: 34,\n  vars: 2,\n  consts: [[3, \"ngSubmit\"], [\"form\", \"ngForm\"], [\"for\", \"name\"], [\"id\", \"name\", \"name\", \"name\", \"type\", \"text\", \"required\", \"\", \"minlength\", \"3\", \"ngModel\", \"\"], [\"for\", \"description\"], [\"id\", \"description\", \"name\", \"description\", \"rows\", \"4\", \"cols\", \"30\", \"required\", \"\", \"ngModel\", \"\"], [\"for\", \"category\"], [\"id\", \"category\", \"name\", \"category\", \"required\", \"\", \"ngModel\", \"\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"brand\"], [\"id\", \"brand\", \"name\", \"brand\", \"type\", \"text\", \"required\", \"\", \"minlength\", \"3\", \"ngModel\", \"\"], [\"for\", \"price\"], [\"id\", \"price\", \"name\", \"price\", \"type\", \"number\", \"required\", \"\", \"min\", \"1\", \"max\", \"1000000\", \"ngModel\", \"\"], [\"type\", \"file\", \"multiple\", \"\", 1, \"file-upload\", 3, \"change\"], [\"fileUpload\", \"\"], [1, \"upload-btn\", 3, \"click\"], [\"type\", \"submit\", 3, \"disabled\"], [3, \"value\"]],\n  template: function AddComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r4 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\")(1, \"form\", 0, 1);\n      i0.ɵɵlistener(\"ngSubmit\", function AddComponent_Template_form_ngSubmit_1_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(3, \"div\")(4, \"label\", 2);\n      i0.ɵɵtext(5, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"input\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\")(8, \"label\", 4);\n      i0.ɵɵtext(9, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"textarea\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\")(12, \"label\", 6);\n      i0.ɵɵtext(13, \"Category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"select\", 7)(15, \"option\", 8);\n      i0.ɵɵtext(16, \"Select category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(17, AddComponent_option_17_Template, 2, 2, \"option\", 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"div\")(19, \"label\", 10);\n      i0.ɵɵtext(20, \"Brand\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(21, \"input\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\")(23, \"label\", 12);\n      i0.ɵɵtext(24, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"input\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\")(27, \"input\", 14, 15);\n      i0.ɵɵlistener(\"change\", function AddComponent_Template_input_change_27_listener($event) {\n        return ctx.onChangeFileInput($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"button\", 16);\n      i0.ɵɵlistener(\"click\", function AddComponent_Template_button_click_29_listener() {\n        i0.ɵɵrestoreView(_r4);\n        const _r2 = i0.ɵɵreference(28);\n        return i0.ɵɵresetView(_r2.click());\n      });\n      i0.ɵɵtext(30, \"Add image\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(31, \"div\")(32, \"button\", 17);\n      i0.ɵɵtext(33, \"Submit\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(2);\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"disabled\", _r0.invalid);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.MinLengthValidator, i3.MinValidator, i3.MaxValidator, i3.NgModel, i3.NgForm],\n  styles: [\".file-upload[_ngcontent-%COMP%]{\\n  display: none;\\n}\\n\\n.upload-btn[_ngcontent-%COMP%]{\\n  background-color: #00B7FF;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWRkL2FkZC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtBQUNmOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCIiwic291cmNlc0NvbnRlbnQiOlsiLmZpbGUtdXBsb2Fke1xyXG4gIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuXHJcbi51cGxvYWQtYnRue1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMEI3RkY7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","category_r3","id","ɵɵadvance","ɵɵtextInterpolate1","name","Category","constructor","AddComponent","productService","files","categories","onChangeFileInput","event","file","target","push","onSubmit","console","log","productForm","form","value","addProduct","ɵɵdirectiveInject","i1","ProductService","selectors","viewQuery","AddComponent_Query","rf","ctx","ɵɵlistener","AddComponent_Template_form_ngSubmit_1_listener","ɵɵelement","ɵɵtemplate","AddComponent_option_17_Template","AddComponent_Template_input_change_27_listener","$event","AddComponent_Template_button_click_29_listener","ɵɵrestoreView","_r4","_r2","ɵɵreference","ɵɵresetView","click","_r0","invalid"],"sources":["C:\\Users\\Kamil\\WebstormProjects\\clothes-exchange\\app\\src\\app\\add\\add.component.ts","C:\\Users\\Kamil\\WebstormProjects\\clothes-exchange\\app\\src\\app\\add\\add.component.html"],"sourcesContent":["import {Component, ViewChild} from '@angular/core';\r\nimport {Form} from \"@angular/forms\";\r\nimport {ProductService} from \"../shared/services/product.service\";\r\n\r\nclass Category{\r\n  constructor(public id: number, public name: string){}\r\n}\r\n\r\n@Component({\r\n  selector: 'app-add',\r\n  templateUrl: './add.component.html',\r\n  styleUrls: ['./add.component.css']\r\n})\r\nexport class AddComponent {\r\n\r\n  @ViewChild('form') productForm: any;\r\n  files: File[] = [];\r\n  // temporary\r\n  categories: Category[] = [\r\n    new Category(1, \"Shoes\"),\r\n    new Category(2, \"Shirts\"),\r\n    new Category(3, \"Pants\"),\r\n    new Category(4, \"Jackets\"),\r\n    new Category(5, \"Hoodies\")\r\n  ];\r\n\r\n  constructor(private productService: ProductService) {}\r\n\r\n  // for some reason after clicking request is send\r\n  onChangeFileInput(event: any){\r\n    const file: File = event.target.files[0];\r\n    if(file){\r\n      this.files.push(file);\r\n    }\r\n  }\r\n\r\n  onSubmit(){\r\n    console.log(this.productForm.form.value);\r\n    this.productService.addProduct(this.productForm.form.value, this.files);\r\n  }\r\n\r\n}\r\n","<!--\r\n  Add validation\r\n-->\r\n\r\n<div>\r\n  <form #form=\"ngForm\" (ngSubmit)=\"onSubmit()\">\r\n    <div>\r\n      <label for=\"name\">Name</label>\r\n      <input id=\"name\" name=\"name\" type=\"text\" required minlength=\"3\" ngModel>\r\n    </div>\r\n    <div>\r\n      <label for=\"description\">Description</label>\r\n      <textarea id=\"description\" name=\"description\" rows=\"4\" cols=\"30\" required ngModel></textarea>\r\n    </div>\r\n    <div>\r\n      <label for=\"category\">Category</label>\r\n      <select id=\"category\" name=\"category\" required ngModel>\r\n        <option value=\"\">Select category</option>\r\n        <option *ngFor=\"let category of categories\" [value]=\"category.id\">\r\n          {{ category.name }}\r\n        </option>\r\n      </select>\r\n    </div>\r\n    <div>\r\n      <label for=\"brand\">Brand</label>\r\n      <input id=\"brand\" name=\"brand\" type=\"text\" required minlength=\"3\" ngModel>\r\n    </div>\r\n    <div>\r\n      <label for=\"price\">Price</label>\r\n      <input id=\"price\" name=\"price\" type=\"number\" required min=\"1\" max=\"1000000\" ngModel>\r\n    </div>\r\n    <div>\r\n      <input type=\"file\" multiple class=\"file-upload\" (change)=\"onChangeFileInput($event)\" #fileUpload>\r\n      <button class=\"upload-btn\" (click)=\"fileUpload.click()\">Add image</button>\r\n    </div>\r\n    <div>\r\n      <button [disabled]=\"form.invalid\" type=\"submit\">Submit</button>\r\n    </div>\r\n  </form>\r\n</div>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}